@import './forkedBranded.scss';
@import './theming/highlight.scss';
@import './theming/monaco.scss';

:root {
    // v2/debt: redefine our CSS variables using VS Code's CSS variables
    // instead of hackily overriding the necessary classes' properties.
    .theme-light,
    .theme-dark {
        --body-color: var(--vscode-foreground);
        --code-bg: var(--vscode-editor-background);
        --color-bg-1: var(--vscode-editor-background);
        --color-bg-2: var(--vscode-editorWidget-background);

        --border-color: var(--vscode-editor-lineHighlightBorder);
        --border-color-2: var(--vscode-editor-lineHighlightBorder);

        // VS Code themes cannot change border radius, so we can safely hardcode it.
        --border-radius: 0;
        --popover-border-radius: 0;

        --dropdown-bg: var(--vscode-dropdown-background);
        --dropdown-border-color: var(--vscode-dropdown-border);
        --dropdown-header-color: var(--vscode-panelTitle-activeForeground);
        .dropdown-menu {
            --body-color: var(--vscode-dropdown-foreground);
            --primary: var(--vscode-textLink-foreground); // hover background
            --color-bg-3: var(--color-bg-3); // active background
            & input {
                background-color: var(--vscode-editorWidget-background) !important;
            }
        }

        --input-bg: var(--vscode-editorWidget-background);
        --input-border-color: var(--vscode-editorWidget-border);
        --border-active-color: var(--vscode-focusBorder);
        --link-color: var(--vscode-textLink-foreground);
        --search-filter-keyword-color: var(--vscode-debugTokenExpression-name);
        --body-bg: var(--vscode-editor-background);
        --text-muted: var(--vscode-descriptionForeground);
        --primary: var(--vscode-button-background);

        // Debt: alert overrides
        --info-3: var(--vscode-inputValidation-infoBorder);
        --danger: var(--vscode-inputValidation-errorBackground);
    }
    .theme-dark {
        .sourcegraph-tooltip {
            --tooltip-bg: var(--vscode-input-background);
            --tooltip-color: var(--vscode-editorWidget-foreground);
        }
    }
    .theme-light {
        // Ensure tooltip always has a dark background with light text.
        .sourcegraph-tooltip {
            --tooltip-bg: var(--vscode-editorWidget-foreground);
            --tooltip-color: var(--vscode-input-background);
        }
    }
}

// stylelint-disable-next-line selector-max-id
html,
body,
#root {
    height: 100%;
}

body {
    font-family: var(--vscode-font-family);
    font-weight: var(--vscode-font-weight);
    font-size: var(--vscode-font-size);
    --body-color: var(--vscode-dropdown-foreground);
    &.search-sidebar {
        background-color: transparent !important;
    }
}

code {
    font-family: var(--vscode-editor-font-family) !important;
    font-weight: var(--vscode-editor-font-weight) !important;
    font-size: var(--vscode-editor-font-size) !important;
    color: var(--vscode-editor-foreground) !important;
}

.btn-primary {
    color: var(--vscode-button-foreground) !important;

    &:hover {
        background-color: var(--vscode-button-hoverBackground) !important;
    }

    &:disabled {
        background-color: var(--vscode-button-secondaryBackground) !important;
    }
}

.cta-card {
    background-color: var(--vscode-textCodeBlock-background) !important;
}
